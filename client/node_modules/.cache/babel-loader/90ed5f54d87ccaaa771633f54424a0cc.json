{"ast":null,"code":"import _defineProperty from\"/Users/NobuyukiTono/Documents/Udemy/traversy-media/REACT/contactKeeper/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/NobuyukiTono/Documents/Udemy/traversy-media/REACT/contactKeeper/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/NobuyukiTono/Documents/Udemy/traversy-media/REACT/contactKeeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import AlertContext from\"../../context/alert/alertContext\";import AuthContext from\"../../context/auth/authContext\";var Login=function Login(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push(\"/\");}if(error===\"Invalid Credentials\"){setAlert(error,\"danger\");clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(e){return setUser(_objectSpread({},user,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(email===\"\"||password===\"\"){setAlert(\"Please fill in all fields\",\"danger\");}else{login({email:email,password:password});}};return React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"h1\",null,\"Account \",React.createElement(\"span\",{className:\"text-primary\"},\"Login\")),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true})),React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})));};export default Login;","map":{"version":3,"sources":["/Users/NobuyukiTono/Documents/Udemy/traversy-media/REACT/contactKeeper/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Login","props","alertContext","authContext","setAlert","login","error","clearErrors","isAuthenticated","history","push","email","password","user","setUser","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"ieAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CACrB,GAAMC,CAAAA,YAAY,CAAGN,UAAU,CAACE,YAAD,CAA/B,CACA,GAAMK,CAAAA,WAAW,CAAGP,UAAU,CAACG,WAAD,CAA9B,CAFqB,GAIbK,CAAAA,QAJa,CAIAF,YAJA,CAIbE,QAJa,IAMbC,CAAAA,KANa,CAMkCF,WANlC,CAMbE,KANa,CAMNC,KANM,CAMkCH,WANlC,CAMNG,KANM,CAMCC,WAND,CAMkCJ,WANlC,CAMCI,WAND,CAMcC,eANd,CAMkCL,WANlC,CAMcK,eANd,CAQrBX,SAAS,CAAC,UAAM,CACd,GAAIW,eAAJ,CAAqB,CACnBP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACD,CAED,GAAIJ,KAAK,GAAK,qBAAd,CAAqC,CACnCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACZ,CACD;AACD,CAVQ,CAUN,CAACD,KAAD,CAAQE,eAAR,CAAyBP,KAAK,CAACQ,OAA/B,CAVM,CAAT,CARqB,cAoBGd,QAAQ,CAAC,CAC/BgB,KAAK,CAAE,EADwB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CApBX,wCAoBdC,IApBc,eAoBRC,OApBQ,kBAyBbH,CAAAA,KAzBa,CAyBOE,IAzBP,CAyBbF,KAzBa,CAyBNC,QAzBM,CAyBOC,IAzBP,CAyBND,QAzBM,CA2BrB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,CAAI,CACpB,MAAOF,CAAAA,OAAO,kBAAMD,IAAN,oBAAaG,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAd,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,CAAC,CAAI,CACpBA,CAAC,CAACK,cAAF,GACA,GAAIV,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAjC,CAAqC,CACnCR,QAAQ,CAAC,2BAAD,CAA8B,QAA9B,CAAR,CACD,CAFD,IAEO,CACLC,KAAK,CAAC,CACJM,KAAK,CAALA,KADI,CAEJC,QAAQ,CAARA,QAFI,CAAD,CAAL,CAID,CACF,CAVD,CAYA,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,yCACU,4BAAM,SAAS,CAAC,cAAhB,UADV,CADF,CAIE,4BAAM,QAAQ,CAAEQ,QAAhB,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,OAAf,kBADF,CAEE,6BACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAET,KAHT,CAIE,QAAQ,CAAEI,QAJZ,CAKE,QAAQ,KALV,EAFF,CADF,CAWE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,UAAf,aADF,CAEE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEH,QAHT,CAIE,QAAQ,CAAEG,QAJZ,CAKE,QAAQ,KALV,EAFF,CAXF,CAsBE,6BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,OAFR,CAGE,SAAS,CAAC,2BAHZ,EAtBF,CAJF,CADF,CAmCD,CA9ED,CAgFA,cAAef,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AuthContext from \"../../context/auth/authContext\";\n\nconst Login = props => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n\n  const { setAlert } = alertContext;\n\n  const { login, error, clearErrors, isAuthenticated } = authContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      props.history.push(\"/\");\n    }\n\n    if (error === \"Invalid Credentials\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const { email, password } = user;\n\n  const onChange = e => {\n    return setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (email === \"\" || password === \"\") {\n      setAlert(\"Please fill in all fields\", \"danger\");\n    } else {\n      login({\n        email,\n        password\n      });\n    }\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h1>\n        Account <span className=\"text-primary\">Login</span>\n      </h1>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={onChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={onChange}\n            required\n          />\n        </div>\n\n        <input\n          type=\"submit\"\n          value=\"Login\"\n          className=\"btn btn-primary btn-block\"\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}